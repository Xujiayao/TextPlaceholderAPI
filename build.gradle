plugins {
	id "fabric-loom" version "1.8-SNAPSHOT" apply false // 1.9 is not working (2024/12/05)
	id "com.replaymod.preprocess" version "88169fcb"
}

preprocess {
//	def mc1144 = createNode("1.14.4", 1_14_04, "yarn")
//	def mc1152 = createNode("1.15.2", 1_15_02, "yarn")
	def mc1165 = createNode("1.16.5", 1_16_05, "yarn")
	def mc1170 = createNode("1.17"  , 1_17_00, "yarn")
	def mc1171 = createNode("1.17.1", 1_17_01, "yarn")
	def mc1182 = createNode("1.18.2", 1_18_02, "yarn")
	def mc1192 = createNode("1.19.2", 1_19_02, "yarn")
	def mc1193 = createNode("1.19.3", 1_19_03, "yarn")
	def mc1194 = createNode("1.19.4", 1_19_04, "yarn")
	def mc1201 = createNode("1.20.1", 1_20_01, "yarn")
	def mc1202 = createNode("1.20.2", 1_20_02, "yarn")
	def mc1204 = createNode("1.20.4", 1_20_04, "yarn")
	def mc1206 = createNode("1.20.6", 1_20_06, "yarn")
	def mc1211 = createNode("1.21.1", 1_21_01, "yarn")
	def mc1214 = createNode("1.21.4", 1_21_04, "yarn")

//	mc1144.link(mc1152, null)
//	mc1152.link(mc1164, null)
	mc1165.link(mc1170, file("versions/mapping-1.16.5-1.17.txt"))
	mc1170.link(mc1171, null)
	mc1171.link(mc1182, null)
	mc1182.link(mc1192, file("versions/mapping-1.18.2-1.19.2.txt"))
	mc1192.link(mc1193, file("versions/mapping-1.19.2-1.19.3.txt"))
	mc1193.link(mc1194, null)
	mc1194.link(mc1201, file("versions/mapping-1.19.4-1.20.1.txt"))
	mc1201.link(mc1202, null)
	mc1202.link(mc1204, file("versions/mapping-1.20.2-1.20.4.txt"))
	mc1204.link(mc1206, null)
	mc1206.link(mc1211, null)
	mc1211.link(mc1214, file("versions/mapping-1.21.1-1.21.4.txt"))
}

project.afterEvaluate {
	delete file("build")
}